Component({properties:{suffixList:{type:Array,value:[{suffix:"@163.com"},{suffix:"@126.com"},{suffix:"@yeah.net"},{suffix:"@vip.163.com"},{suffix:"@vip.126.com"},{suffix:"@188.com"}]}},data:{saveId:"86",hideStyle:"hide",selectedNum:"",list:[]},methods:{onChangeSuggest:function(e){var id=e.currentTarget.id;this.data.saveId=id;this.triggerEvent("suggestChange",{val:this.data.saveId});this._hide()},onTouchStart:function(e){var id=e.currentTarget.id;this.setData({touchStartNum:id})},onToggle:function(e){let _style=e.val?"":"hide";this.setData({hideStyle:_style});if(_style===""){this._showSuggest(e)}},_showSuggest:function(e){var suggestList=[],val=e.val,ats=val.match(/@/g),prefix,suffix,tempList=[];if(ats&&ats.length<=1||!ats){if(val.indexOf("@")>-1){prefix=val.split("@")[0];suffix=val.split("@")[1];if(suffix){this.data.suffixList.forEach(function(s){if(s.suffix.indexOf("@"+suffix)>-1&&s.suffix!=="@"+suffix){tempList.push({suffix:s.suffix})}});tempList.forEach(function(s){suggestList.push({val:prefix+"@"+s.suffix.slice(1)})})}else{this.data.suffixList.forEach(function(s){suggestList.push({val:val+s.suffix.slice(1)})})}}else{this.data.suffixList.forEach(function(s){suggestList.push({val:val+s.suffix})})}}this.setData({list:suggestList})},_hide:function(){this.setData({hideStyle:"hide"})}}});